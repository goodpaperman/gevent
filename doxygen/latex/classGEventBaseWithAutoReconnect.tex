\hypertarget{classGEventBaseWithAutoReconnect}{}\doxysection{G\+Event\+Base\+With\+Auto\+Reconnect Class Reference}
\label{classGEventBaseWithAutoReconnect}\index{GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}}


event base with auto reconnection support  




{\ttfamily \#include $<$Event\+Base\+A\+R.\+h$>$}



Inheritance diagram for G\+Event\+Base\+With\+Auto\+Reconnect\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classGEventBaseWithAutoReconnect__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for G\+Event\+Base\+With\+Auto\+Reconnect\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classGEventBaseWithAutoReconnect__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a5a39debb31a71399c780bba659801c45}\label{classGEventBaseWithAutoReconnect_a5a39debb31a71399c780bba659801c45}} 
{\bfseries G\+Event\+Base\+With\+Auto\+Reconnect} (int reconn\+\_\+min=G\+E\+V\+\_\+\+R\+E\+C\+O\+N\+N\+E\+C\+T\+\_\+\+T\+I\+M\+E\+O\+UT, int reconn\+\_\+max=G\+E\+V\+\_\+\+R\+E\+C\+O\+N\+N\+E\+C\+T\+\_\+\+T\+I\+M\+E\+O\+U\+T\+\_\+\+M\+AX, int max\+\_\+retry=G\+E\+V\+\_\+\+R\+E\+C\+O\+N\+N\+E\+C\+T\+\_\+\+T\+R\+Y\+\_\+\+M\+AX)
\item 
\mbox{\hyperlink{classGEventHandler}{G\+Event\+Handler}} $\ast$ \mbox{\hyperlink{classGEventBaseWithAutoReconnect_acecb779812c4eae090cd10dd43be4d43}{connector}} ()
\begin{DoxyCompactList}\small\item\em get underline connection handler \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classGEventBaseWithAutoReconnect_a662c95e76e3a6ad0c7585aebeb7f0234}{do\+\_\+connect}} (unsigned short port, char const $\ast$host=\char`\"{}127.\+0.\+0.\+1\char`\"{}, void $\ast$arg=nullptr)
\begin{DoxyCompactList}\small\item\em issue the active connection \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classGEventBaseWithAutoReconnect_a34de0d604e0efcded0789e468d8e13bd}{filter\+\_\+handler}} (\mbox{\hyperlink{classGEventHandler}{G\+Event\+Handler}} $\ast$h)
\begin{DoxyCompactList}\small\item\em called when for\+\_\+each traverse handlers \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classGEventBaseWithAutoReconnect_a4b3565ff0ea0443ec27e0ae5ed193e65}{on\+\_\+error}} (\mbox{\hyperlink{classGEventHandler}{G\+Event\+Handler}} $\ast$h)
\begin{DoxyCompactList}\small\item\em called when detecting error on a conection \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classGEventBaseWithAutoReconnect_a6ac1b22f7a2e62e4f71edae8261baf7e}{on\+\_\+timeout}} (\mbox{\hyperlink{structGEV__PER__TIMER__DATA}{G\+E\+V\+\_\+\+P\+E\+R\+\_\+\+T\+I\+M\+E\+R\+\_\+\+D\+A\+TA}} $\ast$gptd)
\begin{DoxyCompactList}\small\item\em called when timer due \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classGEventBaseWithAutoReconnect_a9f69b677a4e7e28f11a156486ae4099a}{on\+\_\+connect\+\_\+break}} ()
\begin{DoxyCompactList}\small\item\em called when detecting connection breaks \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classGEventBaseWithAutoReconnect_ac019fb4a6b410726d6635f56fbe3fe62}{on\+\_\+connected}} (\mbox{\hyperlink{classGEventHandler}{G\+Event\+Handler}} $\ast$app)
\begin{DoxyCompactList}\small\item\em called when connection established \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classGEventBaseWithAutoReconnect_a2b612588e704b8a71758f289dd796098}{on\+\_\+retry\+\_\+max}} (void $\ast$arg)
\begin{DoxyCompactList}\small\item\em called when reconnect retry reach the limit \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classGEventBaseWithAutoReconnect_a704400a5114e7282ebfa30074f195e59}{do\+\_\+reconnect}} (void $\ast$arg)
\begin{DoxyCompactList}\small\item\em doing the dirty work for reconnect \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a89b51612624c2e62d422c69be156e2e4}\label{classGEventBaseWithAutoReconnect_a89b51612624c2e62d422c69be156e2e4}} 
std\+::string {\bfseries m\+\_\+host}
\item 
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_aef942a2bfb1b61dc06eec5c110d5c0ae}\label{classGEventBaseWithAutoReconnect_aef942a2bfb1b61dc06eec5c110d5c0ae}} 
unsigned short {\bfseries m\+\_\+port}
\item 
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_acd9580a1d5d2498252c7b835006eb453}\label{classGEventBaseWithAutoReconnect_acd9580a1d5d2498252c7b835006eb453}} 
\mbox{\hyperlink{classGEventHandler}{G\+Event\+Handler}} $\ast$ {\bfseries m\+\_\+app}
\item 
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_adb4f6bf30c8d6b87334ad4e262c4363f}\label{classGEventBaseWithAutoReconnect_adb4f6bf30c8d6b87334ad4e262c4363f}} 
\mbox{\hyperlink{classGEventHandler}{G\+Event\+Handler}} $\ast$ {\bfseries m\+\_\+htimer}
\item 
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a8e1cdb374f948ff0e5e7cafddf05686a}\label{classGEventBaseWithAutoReconnect_a8e1cdb374f948ff0e5e7cafddf05686a}} 
void $\ast$ {\bfseries m\+\_\+timer}
\item 
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_aa57e2f9393117a64d2702719765db892}\label{classGEventBaseWithAutoReconnect_aa57e2f9393117a64d2702719765db892}} 
int {\bfseries m\+\_\+reconn\+\_\+min}
\item 
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a9392da9fea8e15a1b4f99eeeea791ca3}\label{classGEventBaseWithAutoReconnect_a9392da9fea8e15a1b4f99eeeea791ca3}} 
int {\bfseries m\+\_\+reconn\+\_\+max}
\item 
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a72dc67870f282f76144f24c006e96f92}\label{classGEventBaseWithAutoReconnect_a72dc67870f282f76144f24c006e96f92}} 
int {\bfseries m\+\_\+reconn\+\_\+curr}
\item 
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_ac5b5cdd907376866daf9e6eb55259ed8}\label{classGEventBaseWithAutoReconnect_ac5b5cdd907376866daf9e6eb55259ed8}} 
int {\bfseries m\+\_\+retry\+\_\+max}
\item 
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a2d0aeeeb9703a61ced3e9e1e7475e6fa}\label{classGEventBaseWithAutoReconnect_a2d0aeeeb9703a61ced3e9e1e7475e6fa}} 
int {\bfseries m\+\_\+retry\+\_\+curr}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
event base with auto reconnection support 

\begin{DoxyNote}{Note}
only support one auto-\/reconect connections 
\end{DoxyNote}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_acecb779812c4eae090cd10dd43be4d43}\label{classGEventBaseWithAutoReconnect_acecb779812c4eae090cd10dd43be4d43}} 
\index{GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}!connector@{connector}}
\index{connector@{connector}!GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}}
\doxysubsubsection{\texorpdfstring{connector()}{connector()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classGEventHandler}{G\+Event\+Handler}} $\ast$ G\+Event\+Base\+With\+Auto\+Reconnect\+::connector (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



get underline connection handler 

\begin{DoxyReturn}{Returns}
the connection handler that support auto reconnect 
\end{DoxyReturn}
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a662c95e76e3a6ad0c7585aebeb7f0234}\label{classGEventBaseWithAutoReconnect_a662c95e76e3a6ad0c7585aebeb7f0234}} 
\index{GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}!do\_connect@{do\_connect}}
\index{do\_connect@{do\_connect}!GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}}
\doxysubsubsection{\texorpdfstring{do\_connect()}{do\_connect()}}
{\footnotesize\ttfamily bool G\+Event\+Base\+With\+Auto\+Reconnect\+::do\+\_\+connect (\begin{DoxyParamCaption}\item[{unsigned short}]{port,  }\item[{char const $\ast$}]{host = {\ttfamily \char`\"{}127.0.0.1\char`\"{}},  }\item[{void $\ast$}]{arg = {\ttfamily nullptr} }\end{DoxyParamCaption})}



issue the active connection 


\begin{DoxyParams}{Parameters}
{\em port} & server port \\
\hline
{\em host} & server host \\
\hline
{\em arg} & user special data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true -\/ connection ok; false -\/ failed 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
only different with connect is the auto-\/reconnect character 
\end{DoxyNote}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classGEventBaseWithAutoReconnect_a662c95e76e3a6ad0c7585aebeb7f0234_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classGEventBaseWithAutoReconnect_a662c95e76e3a6ad0c7585aebeb7f0234_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a704400a5114e7282ebfa30074f195e59}\label{classGEventBaseWithAutoReconnect_a704400a5114e7282ebfa30074f195e59}} 
\index{GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}!do\_reconnect@{do\_reconnect}}
\index{do\_reconnect@{do\_reconnect}!GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}}
\doxysubsubsection{\texorpdfstring{do\_reconnect()}{do\_reconnect()}}
{\footnotesize\ttfamily void G\+Event\+Base\+With\+Auto\+Reconnect\+::do\+\_\+reconnect (\begin{DoxyParamCaption}\item[{void $\ast$}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



doing the dirty work for reconnect 


\begin{DoxyParams}{Parameters}
{\em arg} & user special data passed in do\+\_\+connect \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
reconnect will occur on 2/4/8/16/32/64/128/256/256/... seconds each time, these value can be set in constructor, if max\+\_\+retry set to -\/1, no limit will reach. 
\end{DoxyNote}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classGEventBaseWithAutoReconnect_a704400a5114e7282ebfa30074f195e59_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classGEventBaseWithAutoReconnect_a704400a5114e7282ebfa30074f195e59_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a34de0d604e0efcded0789e468d8e13bd}\label{classGEventBaseWithAutoReconnect_a34de0d604e0efcded0789e468d8e13bd}} 
\index{GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}!filter\_handler@{filter\_handler}}
\index{filter\_handler@{filter\_handler}!GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}}
\doxysubsubsection{\texorpdfstring{filter\_handler()}{filter\_handler()}}
{\footnotesize\ttfamily bool G\+Event\+Base\+With\+Auto\+Reconnect\+::filter\+\_\+handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classGEventHandler}{G\+Event\+Handler}} $\ast$}]{h }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



called when for\+\_\+each traverse handlers 


\begin{DoxyParams}{Parameters}
{\em h} & handler will traverse \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true -\/ allow access; false -\/ skip 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classGEventBase_ae63c2bebfc257d7ce4a3cbb816641543}{G\+Event\+Base}}.

\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a9f69b677a4e7e28f11a156486ae4099a}\label{classGEventBaseWithAutoReconnect_a9f69b677a4e7e28f11a156486ae4099a}} 
\index{GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}!on\_connect\_break@{on\_connect\_break}}
\index{on\_connect\_break@{on\_connect\_break}!GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}}
\doxysubsubsection{\texorpdfstring{on\_connect\_break()}{on\_connect\_break()}}
{\footnotesize\ttfamily void G\+Event\+Base\+With\+Auto\+Reconnect\+::on\+\_\+connect\+\_\+break (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



called when detecting connection breaks 

\begin{DoxyReturn}{Returns}
none
\end{DoxyReturn}
start the reconnect action at this point Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classGEventBaseWithAutoReconnect_a9f69b677a4e7e28f11a156486ae4099a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_ac019fb4a6b410726d6635f56fbe3fe62}\label{classGEventBaseWithAutoReconnect_ac019fb4a6b410726d6635f56fbe3fe62}} 
\index{GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}!on\_connected@{on\_connected}}
\index{on\_connected@{on\_connected}!GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}}
\doxysubsubsection{\texorpdfstring{on\_connected()}{on\_connected()}}
{\footnotesize\ttfamily bool G\+Event\+Base\+With\+Auto\+Reconnect\+::on\+\_\+connected (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classGEventHandler}{G\+Event\+Handler}} $\ast$}]{app }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



called when connection established 


\begin{DoxyParams}{Parameters}
{\em app} & handler binding to new connection \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true -\/ process ok; false -\/ falied
\end{DoxyReturn}
do initialize work at this point Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classGEventBaseWithAutoReconnect_ac019fb4a6b410726d6635f56fbe3fe62_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a4b3565ff0ea0443ec27e0ae5ed193e65}\label{classGEventBaseWithAutoReconnect_a4b3565ff0ea0443ec27e0ae5ed193e65}} 
\index{GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}!on\_error@{on\_error}}
\index{on\_error@{on\_error}!GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}}
\doxysubsubsection{\texorpdfstring{on\_error()}{on\_error()}}
{\footnotesize\ttfamily void G\+Event\+Base\+With\+Auto\+Reconnect\+::on\+\_\+error (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classGEventHandler}{G\+Event\+Handler}} $\ast$}]{h }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



called when detecting error on a conection 


\begin{DoxyParams}{Parameters}
{\em h} & handler binding to that connection \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classGEventBase_a8f2a4a09cea4a67fbb883758b904b432}{G\+Event\+Base}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classGEventBaseWithAutoReconnect_a4b3565ff0ea0443ec27e0ae5ed193e65_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a2b612588e704b8a71758f289dd796098}\label{classGEventBaseWithAutoReconnect_a2b612588e704b8a71758f289dd796098}} 
\index{GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}!on\_retry\_max@{on\_retry\_max}}
\index{on\_retry\_max@{on\_retry\_max}!GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}}
\doxysubsubsection{\texorpdfstring{on\_retry\_max()}{on\_retry\_max()}}
{\footnotesize\ttfamily void G\+Event\+Base\+With\+Auto\+Reconnect\+::on\+\_\+retry\+\_\+max (\begin{DoxyParamCaption}\item[{void $\ast$}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



called when reconnect retry reach the limit 


\begin{DoxyParams}{Parameters}
{\em arg} & user special data passed in do\+\_\+connect \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
none 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classGEventBaseWithAutoReconnect_a2b612588e704b8a71758f289dd796098_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classGEventBaseWithAutoReconnect_a6ac1b22f7a2e62e4f71edae8261baf7e}\label{classGEventBaseWithAutoReconnect_a6ac1b22f7a2e62e4f71edae8261baf7e}} 
\index{GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}!on\_timeout@{on\_timeout}}
\index{on\_timeout@{on\_timeout}!GEventBaseWithAutoReconnect@{GEventBaseWithAutoReconnect}}
\doxysubsubsection{\texorpdfstring{on\_timeout()}{on\_timeout()}}
{\footnotesize\ttfamily bool G\+Event\+Base\+With\+Auto\+Reconnect\+::on\+\_\+timeout (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structGEV__PER__TIMER__DATA}{G\+E\+V\+\_\+\+P\+E\+R\+\_\+\+T\+I\+M\+E\+R\+\_\+\+D\+A\+TA}} $\ast$}]{gptd }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



called when timer due 


\begin{DoxyParams}{Parameters}
{\em gptd} & data binding to that timer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true -\/ dispatch timer event ok; false -\/ failed 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classGEventBase_aada8cffd3ccb8a5048cc8726182ec218}{G\+Event\+Base}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classGEventBaseWithAutoReconnect_a6ac1b22f7a2e62e4f71edae8261baf7e_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/yunh/code/gevent/core/Event\+Base\+A\+R.\+h\item 
/home/yunh/code/gevent/core/Event\+Base\+A\+R.\+cpp\end{DoxyCompactItemize}
